!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["resource-redux"]=r():n["resource-redux"]=r()}(window,function(){return function(n){var r={};function e(t){if(r[t])return r[t].exports;var u=r[t]={i:t,l:!1,exports:{}};return n[t].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var u in n)e.d(t,u,function(r){return n[r]}.bind(null,u));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=2)}([function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RESOURCE_REQUESTED="RESOURCE_REQUESTED",r.RESOURCE_SUCCEEDED="RESOURCE_SUCCEEDED",r.RESOURCE_FAILED="RESOURCE_FAILED",r.RESOURCE_INIT="RESOURCE_INIT"},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(0);r.resourceRequested=function(n,r){return{type:t.RESOURCE_REQUESTED,payload:{resourceType:n,params:r}}},r.resourceSucceeded=function(n,r){return{type:t.RESOURCE_SUCCEEDED,payload:{resourceType:n,data:r}}},r.resourceFailed=function(n,r){return{type:t.RESOURCE_FAILED,payload:{resourceType:n,error:r}}},r.resourceInit=function(n){return{type:t.RESOURCE_INIT,payload:{resourceType:n}}}},function(n,r,e){"use strict";function t(n){for(var e in n)r.hasOwnProperty(e)||(r[e]=n[e])}Object.defineProperty(r,"__esModule",{value:!0});var u=e(1);r.resourceActions=u;var o=e(3);r.resourceSelectors=o,t(e(0)),t(e(4)),t(e(5)),t(e(6))},function(n,r,e){"use strict";function t(n,r){if(n&&n[r])return n[r]}function u(n,r){var e=t(n,r);if(e&&e.data)return e.data}function o(n,r){var e=t(n,r);return!(!e||!e.isBusy)&&e.isBusy}function a(n,r){var e=t(n,r);return!(!e||!e.error)&&void 0!==e.error}function i(n,r){return!(!t(n,r)||void 0===u(n,r)||o(n,r)||a(n,r))}function c(n,r){return!(!t(n,r)||o(n,r)||!a(n,r))}Object.defineProperty(r,"__esModule",{value:!0}),r.getResource=t,r.getData=u,r.hasData=function(n,r){var e=t(n,r);return!(!e||!e.data)&&void 0!==e.data},r.isBusy=o,r.getError=function(n,r){var e=t(n,r);if(e&&e.error)return e.error},r.hasError=a,r.isComplete=function(n,r){return i(n,r)||c(n,r)},r.isSuccessComplete=i,r.isErrorComplete=c},function(n,r,e){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var u in r=arguments[e])Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u]);return n}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var u=e(0);r.resourceReducer=function(n,r){var e,o,a,i;if(void 0===r||void 0===r.payload||void 0===r.payload.resourceType)return n;var c=r.payload.resourceType;switch(r.type){case u.RESOURCE_REQUESTED:return t({},n,((e={})[c]={isBusy:!0,error:void 0,data:void 0},e));case u.RESOURCE_FAILED:var f=r.payload.error;return t({},n,((o={})[c]={isBusy:!1,error:f,data:n[c].data},o));case u.RESOURCE_SUCCEEDED:var s=r.payload.data;return t({},n,((a={})[c]={isBusy:!1,error:void 0,data:s},a));case u.RESOURCE_INIT:return t({},n,((i={})[c]={isBusy:!1,data:void 0,error:void 0},i));default:return n}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.initialResourceState={isBusy:!1,data:void 0,error:void 0}},function(n,r,e){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var u in r=arguments[e])Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u]);return n}).apply(this,arguments)},u=this&&this.__generator||function(n,r){var e,t,u,o,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,t&&(u=2&o[0]?t.return:o[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,o[1])).done)return u;switch(t=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(u=(u=a.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){a.label=o[1];break}if(6===o[0]&&a.label<u[1]){a.label=u[1],u=o;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(o);break}u[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(n,a)}catch(n){o=[6,n],t=0}finally{e=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(r,"__esModule",{value:!0});var o=e(7),a=e(1),i=e(0);r.resourceStore=function(n){var r=function(r,e){var t=n.httpRequestMap[r];if(void 0===t){var u='Resource type "'+r+'" is not mapped in http request map';throw console.error(u),new Error(u)}return t(e)},e=function(n){var e,i,c,f,s;return u(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,10]),[4,o.call(r,n.payload.resourceType,t({},n.payload.params))];case 1:return e=u.sent(),[4,o.put(a.resourceSucceeded(n.payload.resourceType,e))];case 2:return u.sent(),[3,10];case 3:i=u.sent(),console.log({e:i,action:n}),c={message:"Unknown Error",code:0},u.label=4;case 4:return u.trys.push([4,6,7,9]),[4,i.json()];case 5:return f=u.sent(),c=f.error,[3,9];case 6:return s=u.sent(),c=s,[3,9];case 7:return[4,o.put(a.resourceFailed(n.payload.resourceType,c))];case 8:return u.sent(),[7];case 9:return[3,10];case 10:return[2]}})};return{requestHttpResource:r,requestResource:e,resourceSaga:function(){return u(this,function(n){switch(n.label){case 0:return[4,o.takeEvery(i.RESOURCE_REQUESTED,e)];case 1:return n.sent(),[2]}})}}}},function(n,r,e){"use strict";e.r(r);Object.assign;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(n){return"@@redux-saga/"+n},o=u("TASK"),a=u("HELPER"),i=u("CANCEL_PROMISE"),c=u("SELF_CANCELLATION"),f=function(n){return function(){return n}},s=f(!0),l=function(){},d=function(n){return n};function p(n,r,e){if(!r(n))throw function(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+n+": "+r+"\n"+(e&&e.stack||e)):console[n](r,e)}("error","uncaught at check",e),new Error(e)}var v=Object.prototype.hasOwnProperty;function y(n,r){return h.notUndef(n)&&v.call(n,r)}var h={undef:function(n){return null==n},notUndef:function(n){return null!=n},func:function(n){return"function"==typeof n},number:function(n){return"number"==typeof n},string:function(n){return"string"==typeof n},array:Array.isArray,object:function(n){return n&&!h.array(n)&&"object"===(void 0===n?"undefined":t(n))},promise:function(n){return n&&h.func(n.then)},iterator:function(n){return n&&h.func(n.next)&&h.func(n.throw)},iterable:function(n){return n&&h.func(Symbol)?h.func(n[Symbol.iterator]):h.array(n)},task:function(n){return n&&n[o]},observable:function(n){return n&&h.func(n.subscribe)},buffer:function(n){return n&&h.func(n.isEmpty)&&h.func(n.take)&&h.func(n.put)},pattern:function(n){return n&&(h.string(n)||"symbol"===(void 0===n?"undefined":t(n))||h.func(n)||h.array(n))},channel:function(n){return n&&h.func(n.take)&&h.func(n.close)},helper:function(n){return n&&n[a]},stringableFunc:function(n){return h.func(n)&&y(n,"toString")}};function g(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=void 0,t=new Promise(function(t){e=setTimeout(function(){return t(r)},n)});return t[i]=function(){return clearTimeout(e)},t}var E=function(n){throw n},b=function(n){return{value:n,done:!0}};function m(n,r){return function(){return n.apply(void 0,arguments)}}var S=function(n,r){return(n?n+".":"")+"setContext(props): argument "+r+" is not a plain object"},C=u("IO"),O="TAKE",R="PUT",_="ALL",U="RACE",k="CALL",T="CPS",w="FORK",j="JOIN",A="CANCEL",x="SELECT",q="ACTION_CHANNEL",L="CANCELLED",D="FLUSH",P="GET_CONTEXT",I="SET_CONTEXT",N="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",M=function(n,r){var e;return(e={})[C]=!0,e[n]=r,e},F=function(n){return p(cn.fork(n),h.object,"detach(eff): argument must be a fork effect"),n[w].detached=!0,n};function B(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&p(arguments[0],h.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),h.pattern(n))return M(O,{pattern:n});if(h.channel(n))return M(O,{channel:n});throw new Error("take(patternOrChannel): argument "+String(n)+" is not valid channel or a valid pattern")}B.maybe=function(){var n=B.apply(void 0,arguments);return n[O].maybe=!0,n};var H=m(B.maybe);function Q(n,r){return arguments.length>1?(p(n,h.notUndef,"put(channel, action): argument channel is undefined"),p(n,h.channel,"put(channel, action): argument "+n+" is not a valid channel"),p(r,h.notUndef,"put(channel, action): argument action is undefined")):(p(n,h.notUndef,"put(action): argument action is undefined"),r=n,n=null),M(R,{channel:n,action:r})}function K(n){return M(_,n)}function G(n){return M(U,n)}function X(n,r,e){p(r,h.notUndef,n+": argument fn is undefined");var t=null;if(h.array(r)){var u=r;t=u[0],r=u[1]}else if(r.fn){var o=r;t=o.context,r=o.fn}return t&&h.string(r)&&h.func(t[r])&&(r=t[r]),p(r,h.func,n+": argument "+r+" is not a function"),{context:t,fn:r,args:e}}function J(n){for(var r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return M(k,X("call",n,e))}function z(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return M(k,X("apply",{context:n,fn:r},e))}function V(n){for(var r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return M(T,X("cps",n,e))}function W(n){for(var r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return M(w,X("fork",n,e))}function Y(n){for(var r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return F(W.apply(void 0,[n].concat(e)))}function Z(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];if(r.length>1)return K(r.map(function(n){return Z(n)}));var t=r[0];return p(t,h.notUndef,"join(task): argument task is undefined"),p(t,h.task,"join(task): argument "+t+" is not a valid Task object "+N),M(j,t)}function $(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];if(r.length>1)return K(r.map(function(n){return $(n)}));var t=r[0];return 1===r.length&&(p(t,h.notUndef,"cancel(task): argument task is undefined"),p(t,h.task,"cancel(task): argument "+t+" is not a valid Task object "+N)),M(A,t||c)}function nn(n){for(var r=arguments.length,e=Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return 0===arguments.length?n=d:(p(n,h.notUndef,"select(selector,[...]): argument selector is undefined"),p(n,h.func,"select(selector,[...]): argument "+n+" is not a function")),M(x,{selector:n,args:e})}function rn(n,r){return p(n,h.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(p(r,h.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),p(r,h.buffer,"actionChannel(pattern, buffer): argument "+r+" is not a valid buffer")),M(q,{pattern:n,buffer:r})}function en(){return M(L,{})}function tn(n){return p(n,h.channel,"flush(channel): argument "+n+" is not valid channel"),M(D,n)}function un(n){return p(n,h.string,"getContext(prop): argument "+n+" is not a string"),M(P,n)}function on(n){return p(n,h.object,S(null,n)),M(I,n)}Q.resolve=function(){var n=Q.apply(void 0,arguments);return n[R].resolve=!0,n},Q.sync=m(Q.resolve);var an=function(n){return function(r){return r&&r[C]&&r[n]}},cn={take:an(O),put:an(R),all:an(_),race:an(U),call:an(k),cps:an(T),fork:an(w),join:an(j),cancel:an(A),select:an(x),actionChannel:an(q),cancelled:an(L),flush:an(D),getContext:an(P),setContext:an(I)},fn={done:!0,value:void 0},sn={};function ln(n){return h.channel(n)?"channel":Array.isArray(n)?String(n.map(function(n){return String(n)})):String(n)}function dn(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",t=void 0,u=r;function o(r,e){if(u===sn)return fn;if(e)throw u=sn,e;t&&t(r);var o=n[u](),a=o[0],i=o[1],c=o[2];return t=c,(u=a)===sn?fn:i}return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments[3],u={name:e,next:n,throw:r,return:b};return t&&(u[a]=!0),"undefined"!=typeof Symbol&&(u[Symbol.iterator]=function(){return u}),u}(o,function(n){return o(null,n)},e,!0)}var pn="Channel's Buffer overflow!",vn=1,yn=3,hn=4,gn={isEmpty:s,put:l,take:l};function En(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments[1],e=new Array(n),t=0,u=0,o=0,a=function(r){e[u]=r,u=(u+1)%n,t++},i=function(){if(0!=t){var r=e[o];return e[o]=null,t--,o=(o+1)%n,r}},c=function(){for(var n=[];t;)n.push(i());return n};return{isEmpty:function(){return 0==t},put:function(i){if(t<n)a(i);else{var f=void 0;switch(r){case vn:throw new Error(pn);case yn:e[u]=i,o=u=(u+1)%n;break;case hn:f=2*n,e=c(),t=e.length,u=e.length,o=0,e.length=f,n=f,a(i)}}},take:i,flush:c}}var bn={none:function(){return gn},fixed:function(n){return En(n,vn)},dropping:function(n){return En(n,2)},sliding:function(n){return En(n,yn)},expanding:function(n){return En(n,hn)}};Object.assign;var mn={type:"@@redux-saga/CHANNEL_END"};function Sn(n,r){for(var e=arguments.length,t=Array(e>2?e-2:0),u=2;u<e;u++)t[u-2]=arguments[u];var o={done:!1,value:B(n)},a=void 0,i=function(n){return a=n};return dn({q1:function(){return["q2",o,i]},q2:function(){return a===mn?[sn]:["q1",(n=a,{done:!1,value:W.apply(void 0,[r].concat(t,[n]))})];var n}},"q1","takeEvery("+ln(n)+", "+r.name+")")}function Cn(n,r){for(var e=arguments.length,t=Array(e>2?e-2:0),u=2;u<e;u++)t[u-2]=arguments[u];var o={done:!1,value:B(n)},a=function(n){return{done:!1,value:W.apply(void 0,[r].concat(t,[n]))}},i=function(n){return{done:!1,value:$(n)}},c=void 0,f=void 0,s=function(n){return c=n},l=function(n){return f=n};return dn({q1:function(){return["q2",o,l]},q2:function(){return f===mn?[sn]:c?["q3",i(c)]:["q1",a(f),s]},q3:function(){return["q1",a(f),s]}},"q1","takeLatest("+ln(n)+", "+r.name+")")}function On(n,r,e){for(var t=arguments.length,u=Array(t>3?t-3:0),o=3;o<t;o++)u[o-3]=arguments[o];var a=void 0,i=void 0,c={done:!1,value:rn(r,bn.sliding(1))},f={done:!1,value:J(g,n)},s=function(n){return a=n},l=function(n){return i=n};return dn({q1:function(){return["q2",c,l]},q2:function(){return["q3",{done:!1,value:B(i)},s]},q3:function(){return a===mn?[sn]:["q4",(n=a,{done:!1,value:W.apply(void 0,[e].concat(u,[n]))})];var n},q4:function(){return["q2",f]}},"q1","throttle("+ln(r)+", "+e.name+")")}function Rn(n,r){for(var e=arguments.length,t=Array(e>2?e-2:0),u=2;u<e;u++)t[u-2]=arguments[u];return W.apply(void 0,[Sn,n,r].concat(t))}function _n(n,r){for(var e=arguments.length,t=Array(e>2?e-2:0),u=2;u<e;u++)t[u-2]=arguments[u];return W.apply(void 0,[Cn,n,r].concat(t))}function Un(n,r,e){for(var t=arguments.length,u=Array(t>3?t-3:0),o=3;o<t;o++)u[o-3]=arguments[o];return W.apply(void 0,[On,n,r,e].concat(u))}e.d(r,"take",function(){return B}),e.d(r,"takem",function(){return H}),e.d(r,"put",function(){return Q}),e.d(r,"all",function(){return K}),e.d(r,"race",function(){return G}),e.d(r,"call",function(){return J}),e.d(r,"apply",function(){return z}),e.d(r,"cps",function(){return V}),e.d(r,"fork",function(){return W}),e.d(r,"spawn",function(){return Y}),e.d(r,"join",function(){return Z}),e.d(r,"cancel",function(){return $}),e.d(r,"select",function(){return nn}),e.d(r,"actionChannel",function(){return rn}),e.d(r,"cancelled",function(){return en}),e.d(r,"flush",function(){return tn}),e.d(r,"getContext",function(){return un}),e.d(r,"setContext",function(){return on}),e.d(r,"takeEvery",function(){return Rn}),e.d(r,"takeLatest",function(){return _n}),e.d(r,"throttle",function(){return Un})}])});